{
  "entityType" : "WIDGET_TYPE",
  "entity" : {
    "fqn" : "mada_admin.users_management",
    "name" : "Users Management",
    "deprecated" : false,
    "image" : "data:image/png;base64,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",
    "description" : "Displays list of entities that match selected alias and filter with ability of additional full text search and pagination. Highly customizable using widget styles, data source keys and widget actions.",
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 7.5,
      "sizeY" : 6.5,
      "resources" : [ ],
      "templateHtml" : "<tb-entities-table-widget \n    [ctx]=\"ctx\">\n</tb-entities-table-widget>",
      "templateCss" : "",
      "controllerScript" : "self.onInit = function() {\n}\n\nself.onDataUpdated = function() {\n    self.ctx.$scope.entitiesTableWidget.onDataUpdated();\n}\n\nself.typeParameters = function() {\n    return {\n        maxDatasources: 1,\n        hasDataPageLink: true,\n        warnOnPageDataOverflow: false,\n        dataKeysOptional: true\n    };\n}\n\nself.actionSources = function() {\n    return {\n        'actionCellButton': {\n            name: 'widget-action.action-cell-button',\n            multiple: true,\n            hasShowCondition: true\n        },\n        'rowClick': {\n            name: 'widget-action.row-click',\n            multiple: false\n        },\n        'rowDoubleClick': {\n            name: 'widget-action.row-double-click',\n            multiple: false\n        }\n    };\n}\n\nself.onDestroy = function() {\n}\n",
      "settingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"EntitiesTableSettings\",\n        \"properties\": {\n            \"entitiesTitle\": {\n                \"title\": \"Entities table title\",\n                \"type\": \"string\",\n                \"default\": \"Customer Users table\"\n            },\n            \"enableSearch\": {\n                \"title\": \"Enable entities search\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"enableSelectColumnDisplay\": {\n                \"title\": \"Enable select columns to display\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"enableStickyHeader\": {\n                \"title\": \"Always display header\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"enableStickyAction\": {\n                \"title\": \"Always display actions column\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"reserveSpaceForHiddenAction\": {\n                \"title\": \"Hidden cell button actions display mode\",\n                \"type\": \"string\",\n                \"default\": \"true\"\n            },\n            \"displayEntityName\": {\n                \"title\": \"Display entity name column\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"entityNameColumnTitle\": {\n                \"title\": \"Entity name column title\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"displayEntityLabel\": {\n                \"title\": \"Display entity label column\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"entityLabelColumnTitle\": {\n                \"title\": \"Entity label column title\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"displayEntityType\": {\n                \"title\": \"Display entity type column\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"displayPagination\": {\n                \"title\": \"Display pagination\",\n                \"type\": \"boolean\",\n                \"default\": true\n            },\n            \"defaultPageSize\": {\n                \"title\": \"Default page size\",\n                \"type\": \"number\",\n                \"default\": 20\n            },\n            \"defaultSortOrder\": {\n                \"title\": \"Default sort order\",\n                \"type\": \"string\",\n                \"default\": \"email\"\n            },\n            \"useRowStyleFunction\": {\n                \"title\": \"Use row style function\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"rowStyleFunction\": {\n                \"title\": \"Row style function: f(entity, ctx)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n        \"entitiesTitle\",\n        \"enableSearch\",\n        \"enableSelectColumnDisplay\",\n        \"enableStickyHeader\",\n        \"enableStickyAction\",\n        {\n          \"key\": \"reserveSpaceForHiddenAction\",\n          \"type\": \"rc-select\",\n          \"multiple\": false,\n          \"items\": [\n            {\n              \"value\": \"true\",\n              \"label\": \"Show empty space instead of hidden cell button action\"\n            },\n            {\n              \"value\": \"false\",\n              \"label\": \"Don't reserve space for hidden action buttons\"\n            }\n          ]\n        },\n        \"displayEntityName\",\n        \"entityNameColumnTitle\",\n        \"displayEntityLabel\",\n        \"entityLabelColumnTitle\",\n        \"displayEntityType\",\n        \"displayPagination\",\n        \"defaultPageSize\",\n        \"defaultSortOrder\",\n        \"useRowStyleFunction\",\n        {\n            \"key\": \"rowStyleFunction\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/entity/row_style_fn\",\n            \"condition\": \"model.useRowStyleFunction === true\"\n        }\n    ]\n}",
      "dataKeySettingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"DataKeySettings\",\n        \"properties\": {\n            \"columnWidth\": {\n                \"title\": \"Column width (px or %)\",\n                \"type\": \"string\",\n                \"default\": \"0px\"\n            },\n            \"useCellStyleFunction\": {\n                \"title\": \"Use cell style function\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"cellStyleFunction\": {\n                \"title\": \"Cell style function: f(value, entity, ctx)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"useCellContentFunction\": {\n                \"title\": \"Use cell content function\",\n                \"type\": \"boolean\",\n                \"default\": false\n            },\n            \"cellContentFunction\": {\n                \"title\": \"Cell content function: f(value, entity, ctx)\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"defaultColumnVisibility\": {\n                \"title\": \"Default column visibility\",\n                \"type\": \"string\",\n                \"default\": \"visible\"\n            },\n            \"columnSelectionToDisplay\": {\n                \"title\": \"Column selection in 'Columns to Display'\",\n                \"type\": \"string\",\n                \"default\": \"enabled\"\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n        \"columnWidth\",\n        \"useCellStyleFunction\",\n        {\n            \"key\": \"cellStyleFunction\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/entity/cell_style_fn\",\n            \"condition\": \"model.useCellStyleFunction === true\"\n        },\n        \"useCellContentFunction\",\n        {\n            \"key\": \"cellContentFunction\",\n            \"type\": \"javascript\",\n            \"helpId\": \"widget/lib/entity/cell_content_fn\",\n            \"condition\": \"model.useCellContentFunction === true\"\n        },\n        {\n            \"key\": \"defaultColumnVisibility\",\n            \"type\": \"rc-select\",\n            \"multiple\": false,\n            \"items\": [\n                {\n                    \"value\": \"visible\",\n                    \"label\": \"Visible\"\n                },\n                {\n                    \"value\": \"hidden\",\n                    \"label\": \"Hidden\"\n                }    \n            ]\n        },\n        {\n            \"key\": \"columnSelectionToDisplay\",\n            \"type\": \"rc-select\",\n            \"multiple\": false,\n            \"items\": [\n                {\n                    \"value\": \"enabled\",\n                    \"label\": \"Enabled\"\n                },\n                {\n                    \"value\": \"disabled\",\n                    \"label\": \"Disabled\"\n                }    \n            ]\n        }\n    ]\n}",
      "defaultConfig" : "{\"timewindow\":{\"realtime\":{\"interval\":1000,\"timewindowMs\":86400000},\"aggregation\":{\"type\":\"NONE\",\"limit\":200}},\"showTitle\":true,\"backgroundColor\":\"#111217\",\"color\":\"#ffffff\",\"padding\":\"4px\",\"settings\":{\"enableSearch\":true,\"displayPagination\":true,\"defaultPageSize\":20,\"defaultSortOrder\":\"email\",\"displayEntityName\":false,\"displayEntityType\":false,\"enableSelectColumnDisplay\":true,\"enableStickyHeader\":true,\"enableStickyAction\":true,\"reserveSpaceForHiddenAction\":\"true\",\"displayEntityLabel\":false,\"useRowStyleFunction\":false,\"entitiesTitle\":\"Users Management\"},\"title\":\"Users Management\",\"dropShadow\":true,\"enableFullscreen\":true,\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400,\"padding\":\"5px 10px 5px 10px\"},\"useDashboardTimewindow\":false,\"showLegend\":false,\"datasources\":[{\"type\":\"function\",\"name\":\"Simulated\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Sin\",\"color\":\"#2196f3\",\"settings\":{\"columnWidth\":\"0px\",\"useCellStyleFunction\":false,\"cellStyleFunction\":\"\",\"useCellContentFunction\":false,\"cellContentFunction\":\"\"},\"_hash\":0.472295003170325,\"funcBody\":\"return Math.round(1000*Math.sin(time/5000));\"},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Cos\",\"color\":\"#4caf50\",\"settings\":{\"columnWidth\":\"0px\",\"useCellStyleFunction\":false,\"cellStyleFunction\":\"\",\"useCellContentFunction\":false,\"cellContentFunction\":\"\"},\"_hash\":0.8926244886945558,\"funcBody\":\"return Math.round(1000*Math.cos(time/5000));\"},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#f44336\",\"settings\":{\"columnWidth\":\"0px\",\"useCellStyleFunction\":false,\"cellStyleFunction\":\"\",\"useCellContentFunction\":false,\"cellContentFunction\":\"\"},\"_hash\":0.6401141393938932,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}]}],\"actions\":{\"headerButton\":[{\"name\":\"Add Customer User\",\"icon\":\"add\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"customPretty\",\"customHtml\":\"\\n<form #addUserForm=\\\"ngForm\\\" [formGroup]=\\\"addUserFormGroup\\\"\\n      (ngSubmit)=\\\"save()\\\" style=\\\"min-width: 400px\\\" class=\\\"add-user-form\\\">\\n    <mat-toolbar fxLayout=\\\"row\\\" color=\\\"primary\\\">\\n        <h2>Add User</h2>\\n        <span fxFlex></span>\\n        <button mat-icon-button (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n            <mat-icon class=\\\"material-icons\\\">close</mat-icon>\\n        </button>\\n    </mat-toolbar>\\n    <mat-progress-bar color=\\\"warn\\\" mode=\\\"indeterminate\\\" *ngIf=\\\"isLoading$ | async\\\">\\n    </mat-progress-bar>\\n    <div style=\\\"height: 4px;\\\" *ngIf=\\\"!(isLoading$ | async)\\\"></div>\\n    <div mat-dialog-content fxLayout=\\\"column\\\">\\n        <mat-form-field fxFlex class=\\\"mat-block\\\">\\n            <mat-label>Email</mat-label>\\n            <input type=\\\"email\\\" matInput formControlName=\\\"email\\\" required>\\n            <mat-error *ngIf=\\\"addUserFormGroup.get('email').hasError('required')\\\">\\n                Email is required.\\n            </mat-error>\\n        </mat-form-field>\\n        <mat-form-field>\\n            <mat-label>Customer</mat-label>\\n            <mat-select formControlName=\\\"customer\\\" required>\\n                <mat-option *ngFor=\\\"let customer of customers\\\" [value]=\\\"customer.name\\\">\\n                  {{customer.name}}\\n                </mat-option>\\n            </mat-select>\\n            <mat-error *ngIf=\\\"addUserFormGroup.get('customer').hasError('required')\\\">\\n                Customer is required.\\n            </mat-error>\\n        </mat-form-field>\\n        <mat-form-field>\\n            <mat-label>Role</mat-label>\\n            <mat-select formControlName=\\\"role\\\" required>\\n                <mat-option *ngFor=\\\"let role of roles\\\" [value]=\\\"role\\\">\\n                  {{role}}\\n                </mat-option>\\n            </mat-select>\\n            <mat-error *ngIf=\\\"addUserFormGroup.get('role').hasError('required')\\\">\\n                User role is required.\\n            </mat-error>\\n        </mat-form-field>\\n        <mat-form-field fxFlex class=\\\"mat-block\\\">\\n            <mat-label>First Name</mat-label>\\n            <input matInput formControlName=\\\"firstName\\\" >\\n        </mat-form-field>\\n        <mat-form-field fxFlex class=\\\"mat-block\\\">\\n            <mat-label>Last Name</mat-label>\\n            <input matInput formControlName=\\\"lastName\\\" >\\n        </mat-form-field>\\n        <mat-form-field fxFlex class=\\\"mat-block\\\">\\n            <mat-label>Description</mat-label>\\n            <textarea matInput formControlName=\\\"description\\\" ></textarea>\\n        </mat-form-field>\\n        <mat-form-field>\\n            <mat-label>Activation Method</mat-label>\\n            <mat-select formControlName=\\\"activationMethod\\\">\\n                <mat-option value=\\\"DISPLAY_ACTIVATION_LINK\\\">\\n                  Display activation link\\n                </mat-option>\\n                <mat-option value=\\\"SEND_ACTIVATION_MAIL\\\">\\n                  Send activation mail\\n                </mat-option>\\n            </mat-select>\\n        </mat-form-field>\\n    </div>\\n    <div mat-dialog-actions fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button mat-button color=\\\"primary\\\"\\n                type=\\\"button\\\"\\n                [disabled]=\\\"(isLoading$ | async)\\\"\\n                (click)=\\\"cancel()\\\" cdkFocusInitial>\\n            Cancel\\n        </button>\\n        <button mat-button mat-raised-button color=\\\"primary\\\"\\n                type=\\\"submit\\\"\\n                [disabled]=\\\"(isLoading$ | async) || addUserForm.invalid || !addUserForm.dirty\\\">\\n            Create\\n        </button>\\n    </div>\\n</form>\\n\",\"customCss\":\"/*=======================================================================*/\\n/*==========  There are two examples: for edit and add entity  ==========*/\\n/*=======================================================================*/\\n/*========================  Edit entity example  ========================*/\\n/*=======================================================================*/\\n/*\\n.edit-entity-form .boolean-value-input {\\n    padding-left: 5px;\\n}\\n\\n.edit-entity-form .boolean-value-input .checkbox-label {\\n    margin-bottom: 8px;\\n    color: rgba(0,0,0,0.54);\\n    font-size: 12px;\\n}\\n\\n.relations-list .header {\\n    padding-right: 5px;\\n    padding-bottom: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .header .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n    font-size: 12px;\\n    font-weight: 700;\\n    color: rgba(0, 0, 0, .54);\\n    white-space: nowrap;\\n}\\n\\n.relations-list .mat-form-field-infix {\\n    width: auto !important;\\n}\\n\\n.relations-list .body {\\n    padding-right: 5px;\\n    padding-bottom: 15px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .row {\\n    padding-top: 5px;\\n}\\n\\n.relations-list .body .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .md-button {\\n    margin: 0;\\n}\\n*/\\n/*========================================================================*/\\n/*=========================  Add entity example  =========================*/\\n/*========================================================================*/\\n/*\\n.add-entity-form .boolean-value-input {\\n    padding-left: 5px;\\n}\\n\\n.add-entity-form .boolean-value-input .checkbox-label {\\n    margin-bottom: 8px;\\n    color: rgba(0,0,0,0.54);\\n    font-size: 12px;\\n}\\n\\n.relations-list .header {\\n    padding-right: 5px;\\n    padding-bottom: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .header .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n    font-size: 12px;\\n    font-weight: 700;\\n    color: rgba(0, 0, 0, .54);\\n    white-space: nowrap;\\n}\\n\\n.relations-list .mat-form-field-infix {\\n    width: auto !important;\\n}\\n\\n.relations-list .body {\\n    padding-right: 5px;\\n    padding-bottom: 15px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .row {\\n    padding-top: 5px;\\n}\\n\\n.relations-list .body .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .md-button {\\n    margin: 0;\\n}\\n*/\\n\",\"customFunction\":\"\\n\\nlet $injector = widgetContext.$scope.$injector;\\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\\n\\nlet userService = $injector.get(widgetContext.servicesMap.get('userService'));\\nlet customerService = $injector.get(widgetContext.servicesMap.get('customerService'));\\n\\nopenAddUserDialog();\\n\\nfunction openAddUserDialog() {\\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\\n}\\n\\nfunction AddEntityDialogController(instance) {\\n    let vm = instance;\\n    \\n    vm.customers = [];\\n    \\n    vm.roles = [\\\"User\\\", \\\"Admin\\\"];\\n\\n    vm.addUserFormGroup = vm.fb.group({\\n        email: [null, [vm.validators.required]],\\n        entityType: ['DEVICE'],\\n        firstName: [\\\"\\\"],\\n        lastName: [\\\"\\\"],\\n        customer: [null, [vm.validators.required]],\\n        description: [\\\"\\\"],\\n        role: [vm.roles[0]],\\n        activationMethod: [\\\"SEND_ACTIVATION_MAIL\\\"]\\n    });\\n    \\n    // TODO: Check the page size\\n    let pageSize = 10000, page = 0, textSearch = \\\"\\\";\\n    let pageLink = widgetContext.pageLink(pageSize, page, textSearch);\\n    \\n    customerService.getCustomers(pageLink).subscribe(function(result){\\n        vm.customers = result.data\\n        // console.log(\\\"customers\\\", vm.customers)\\n    })\\n\\n    vm.cancel = function() {\\n        vm.dialogRef.close(null);\\n    };\\n\\n    vm.save = function() {\\n        vm.addUserFormGroup.markAsPristine();\\n        saveUserObservable().subscribe(\\n            function (user) {\\n                widgetContext.updateAliases();\\n                vm.dialogRef.close(null);\\n                \\n                console.log(\\\"user\\\", user);\\n                const formValues = vm.addUserFormGroup.value;\\n                \\n                const temp = [\\n                    saveUserAttributes(user, formValues.role)\\n                ];\\n                \\n                if(formValues.activationMethod === \\\"DISPLAY_ACTIVATION_LINK\\\")\\n                    temp.push(userService.getActivationLink(user.id.id));\\n                    \\n                if(user && formValues.activationMethod === \\\"SEND_ACTIVATION_MAIL\\\")\\n                    widgetContext.showSuccessToast(\\\"Activation email has been sent!\\\")\\n                \\n                widgetContext.rxjs.forkJoin(temp).subscribe(function(data){\\n                    console.log(\\\"Data\\\", data);\\n                    \\n                    // Open activation link dialog\\n                    if(data[1]){\\n                        const link = data[1];\\n                        console.log(\\\"act link\\\", link);\\n                        vm.link = link;\\n                        openActivationLinkDailog(link);\\n                    }\\n                });\\n            }\\n        );\\n    };\\n    \\n    \\n    function saveUserAttributes(user, role){\\n        console.log(\\\"user\\\", user, \\\"role\\\", role);\\n        return attributeService.saveEntityAttributes(user.id, \\\"SERVER_SCOPE\\\", [{key: \\\"role\\\", value: role}, {key: \\\"ownerType\\\", value: \\\"CUSTOMER\\\"}]);\\n        \\n        // return widgetContext.rxjs.of([]);\\n    }\\n    function openActivationLinkDailog(link){\\n        \\n        const activationLinkHtml = `\\n            <form style=\\\"min-width: 400px\\\">\\n                <mat-toolbar fxLayout=\\\"row\\\" color=\\\"primary\\\">\\n                    <h2>User activation link</h2>\\n                    <span fxFlex></span>\\n                    <button mat-icon-button (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n                        <mat-icon class=\\\"material-icons\\\">close</mat-icon>\\n                    </button>\\n                </mat-toolbar>\\n                <div mat-dialog-content>\\n                    <div fxLayout=\\\"column\\\">\\n                        <span>\\n                            In order to activate user use the following <a href=\\\"${link}\\\" target=\\\"_blank\\\">activation link</a>:\\n                        </span>\\n                        <div fxlayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                            <pre fxFlex class=\\\"tb-highlight\\\"><code>${link}</code>\\n                            </pre>\\n                            <button mat-icon-button color=\\\"primary\\\" aria-label=\\\"Copy activation link\\\" ngxClipboard [cbContent]=\\\"link\\\">\\n                                <mat-icon>assignment_return</mat-icon>\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div mat-dialog-actions fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\">\\n                    <button mat-button color=\\\"primary\\\"\\n                    type=\\\"submit\\\" (click)=\\\"cancel()\\\">\\n                        OK\\n                    </button>\\n                </div>\\n            </form>\\n        `;\\n        customDialog.customDialog(activationLinkHtml, ActivationLinkDailogController).subscribe();\\n    }\\n    \\n    function ActivationLinkDailogController(instance){\\n        vma = instance;\\n        \\n        vma.link = vm.link;\\n        \\n        vma.cancel = function(){\\n            vma.dialogRef.close(null);\\n        };\\n    }\\n\\n    function saveUserObservable() {\\n        const formValues = vm.addUserFormGroup.value;\\n        const customerId = vm.customers.find(function(customer){\\n            return customer.entityName === formValues.customer.entityName;\\n        }).id;\\n        let user = {\\n            email: formValues.email,\\n            firstName: formValues.firstName,\\n            lastName: formValues.lastName,\\n            authority: \\\"CUSTOMER_USER\\\",\\n            customerId: customerId,\\n            additionalInfo:{\\n                description: formValues.description\\n            }\\n        };\\n        \\n        const sendActivationEmail = formValues.activationMethod === \\\"SEND_ACTIVATION_MAIL\\\";\\n        \\n        return userService.saveUser(user, sendActivationEmail);\\n    }\\n\\n    function saveAttributes(entityId) {\\n        let attributes = vm.addUserFormGroup.get('attributes').value;\\n        let attributesArray = [];\\n        for (let key in attributes) {\\n            if(attributes[key] !== null) {\\n                attributesArray.push({key: key, value: attributes[key]});\\n            }\\n        }\\n        if (attributesArray.length > 0) {\\n            return attributeService.saveEntityAttributes(entityId, \\\"SERVER_SCOPE\\\", attributesArray);\\n        }\\n        return widgetContext.rxjs.of([]);\\n    }\\n\\n    \\n}\\n\",\"customResources\":[],\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"75978200-9c5a-8624-a516-ee4a69907e6b\"}],\"actionCellButton\":[{\"name\":\"Edit Customer User\",\"icon\":\"edit\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"customPretty\",\"customHtml\":\"\\n<form #addUserForm=\\\"ngForm\\\" [formGroup]=\\\"addUserFormGroup\\\"\\n      (ngSubmit)=\\\"save()\\\" style=\\\"min-width: 400px\\\" class=\\\"add-user-form\\\">\\n    <mat-toolbar fxLayout=\\\"row\\\" color=\\\"primary\\\">\\n        <h2>Edit User</h2>\\n        <span fxFlex></span>\\n        <button mat-icon-button (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n            <mat-icon class=\\\"material-icons\\\">close</mat-icon>\\n        </button>\\n    </mat-toolbar>\\n    <mat-progress-bar color=\\\"warn\\\" mode=\\\"indeterminate\\\" *ngIf=\\\"isLoading$ | async\\\">\\n    </mat-progress-bar>\\n    <div style=\\\"height: 4px;\\\" *ngIf=\\\"!(isLoading$ | async)\\\"></div>\\n    <div mat-dialog-content fxLayout=\\\"column\\\">\\n        <mat-form-field fxFlex class=\\\"mat-block\\\">\\n            <mat-label>Email</mat-label>\\n            <input type=\\\"email\\\" matInput formControlName=\\\"email\\\" required>\\n            <mat-error *ngIf=\\\"addUserFormGroup.get('email').hasError('required')\\\">\\n                Email is required.\\n            </mat-error>\\n        </mat-form-field>\\n        <mat-form-field>\\n            <mat-label>Customer</mat-label>\\n            <mat-select [value]=\\\"addUserFormGroup.value.customer\\\" required>\\n                <mat-option *ngFor=\\\"let customer of customers\\\" [value]=\\\"customer.name\\\">\\n                  {{customer.name}}\\n                </mat-option>\\n            </mat-select>\\n            <mat-error *ngIf=\\\"addUserFormGroup.get('customer').hasError('required')\\\">\\n                Customer is required.\\n            </mat-error>\\n        </mat-form-field>\\n        <mat-form-field>\\n            <mat-label>Role</mat-label>\\n            <mat-select formControlName=\\\"role\\\" required>\\n                <mat-option *ngFor=\\\"let role of roles\\\" [value]=\\\"role\\\">\\n                  {{role}}\\n                </mat-option>\\n            </mat-select>\\n            <mat-error *ngIf=\\\"addUserFormGroup.get('role').hasError('required')\\\">\\n                User role is required.\\n            </mat-error>\\n        </mat-form-field>\\n        <mat-form-field fxFlex class=\\\"mat-block\\\">\\n            <mat-label>First Name</mat-label>\\n            <input matInput formControlName=\\\"firstName\\\" >\\n        </mat-form-field>\\n        <mat-form-field fxFlex class=\\\"mat-block\\\">\\n            <mat-label>Last Name</mat-label>\\n            <input matInput formControlName=\\\"lastName\\\" >\\n        </mat-form-field>\\n        <mat-form-field fxFlex class=\\\"mat-block\\\">\\n            <mat-label>Description</mat-label>\\n            <textarea matInput formControlName=\\\"description\\\" ></textarea>\\n        </mat-form-field>\\n        \\n        <!--<mat-form-field>-->\\n        <!--    <mat-label>Activation Method</mat-label>-->\\n        <!--    <mat-select formControlName=\\\"activationMethod\\\">-->\\n        <!--        <mat-option value=\\\"DISPLAY_ACTIVATION_LINK\\\">-->\\n        <!--          Display activation link-->\\n        <!--        </mat-option>-->\\n        <!--        <mat-option value=\\\"SEND_ACTIVATION_MAIL\\\">-->\\n        <!--          Send activation mail-->\\n        <!--        </mat-option>-->\\n        <!--    </mat-select>-->\\n        <!--</mat-form-field>-->\\n        \\n        <button mat-button color=\\\"primary\\\" [disabled]=\\\"(isLoading$ | async)\\\" (click)=\\\"showActiviationLink()\\\">Reset Password\\n        </button>\\n    </div>\\n    <div mat-dialog-actions fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button mat-button color=\\\"primary\\\"\\n            type=\\\"button\\\"\\n            [disabled]=\\\"(isLoading$ | async)\\\"\\n            (click)=\\\"cancel()\\\" cdkFocusInitial>\\n            Cancel\\n        </button>\\n        <button mat-button mat-raised-button color=\\\"primary\\\" type=\\\"submit\\\" [disabled]=\\\"(isLoading$ | async) || addUserForm.invalid || !addUserForm.dirty\\\">\\n            Save\\n        </button>\\n    </div>\\n</form>\\n\",\"customCss\":\"/*=======================================================================*/\\n/*==========  There are two examples: for edit and add entity  ==========*/\\n/*=======================================================================*/\\n/*========================  Edit entity example  ========================*/\\n/*=======================================================================*/\\n/*\\n.edit-entity-form .boolean-value-input {\\n    padding-left: 5px;\\n}\\n\\n.edit-entity-form .boolean-value-input .checkbox-label {\\n    margin-bottom: 8px;\\n    color: rgba(0,0,0,0.54);\\n    font-size: 12px;\\n}\\n\\n.relations-list .header {\\n    padding-right: 5px;\\n    padding-bottom: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .header .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n    font-size: 12px;\\n    font-weight: 700;\\n    color: rgba(0, 0, 0, .54);\\n    white-space: nowrap;\\n}\\n\\n.relations-list .mat-form-field-infix {\\n    width: auto !important;\\n}\\n\\n.relations-list .body {\\n    padding-right: 5px;\\n    padding-bottom: 15px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .row {\\n    padding-top: 5px;\\n}\\n\\n.relations-list .body .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .md-button {\\n    margin: 0;\\n}\\n*/\\n/*========================================================================*/\\n/*=========================  Add entity example  =========================*/\\n/*========================================================================*/\\n/*\\n.add-entity-form .boolean-value-input {\\n    padding-left: 5px;\\n}\\n\\n.add-entity-form .boolean-value-input .checkbox-label {\\n    margin-bottom: 8px;\\n    color: rgba(0,0,0,0.54);\\n    font-size: 12px;\\n}\\n\\n.relations-list .header {\\n    padding-right: 5px;\\n    padding-bottom: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .header .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n    font-size: 12px;\\n    font-weight: 700;\\n    color: rgba(0, 0, 0, .54);\\n    white-space: nowrap;\\n}\\n\\n.relations-list .mat-form-field-infix {\\n    width: auto !important;\\n}\\n\\n.relations-list .body {\\n    padding-right: 5px;\\n    padding-bottom: 15px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .row {\\n    padding-top: 5px;\\n}\\n\\n.relations-list .body .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .md-button {\\n    margin: 0;\\n}\\n*/\\n\",\"customFunction\":\"\\n\\nlet $injector = widgetContext.$scope.$injector;\\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\\nlet userService = $injector.get(widgetContext.servicesMap.get('userService'));\\nlet customerService = $injector.get(widgetContext.servicesMap.get('customerService'));\\n\\nopenAddUserDialog();\\n\\nfunction openAddUserDialog() {\\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\\n}\\n\\nfunction AddEntityDialogController(instance) {\\n    let vm = instance;\\n    \\n    vm.roles = [\\\"User\\\", \\\"Admin\\\"];\\n    vm.attributes = [];\\n    vm.emailSent = false;\\n    vm.userActivated = false;\\n    // console.log(\\\"ctx\\\", widgetContext);\\n    vm.addUserFormGroup = vm.fb.group({\\n        email: [null, [vm.validators.required]],\\n        firstName: [\\\"\\\"],\\n        lastName: [\\\"\\\"],\\n        customer: [null, [vm.validators.required]],\\n        description: [\\\"\\\"],\\n        role: [null],\\n        // activationMethod: [\\\"DISPLAY_ACTIVATION_LINK\\\"]\\n    });\\n    \\n    // TODO: Check the page size\\n    const pageSize = 1024, page = 0, textSearch = \\\"\\\";\\n    const pageLink = widgetContext.pageLink(pageSize, page, textSearch);\\n    \\n    widgetContext.rxjs.forkJoin([\\n        userService.getUser(entityId.id),\\n        customerService.getCustomers(pageLink),\\n        attributeService.getEntityAttributes(entityId, \\\"SERVER_SCOPE\\\", [\\\"role\\\"])\\n        ]).subscribe(function(result){\\n        \\n            console.log(\\\"result\\\", result);\\n            \\n            vm.user = result[0];\\n            vm.customers = result[1].data;\\n            vm.attributes = result[2];\\n        \\n            const userCustomer = vm.customers.find(function(customer){\\n            return customer.id.id === vm.user.customerId.id;\\n        });\\n        \\n        // console.log(\\\"user customer\\\", userCustomer, \\\"customers\\\", vm.customers);\\n        \\n        let role = null;\\n        if(vm.attributes.length > 0)\\n            role = vm.attributes[0].value;\\n        \\n        vm.addUserFormGroup.patchValue({\\n            email: vm.user.email,\\n            firstName: vm.user.firstName,\\n            lastName: vm.user.lastName,\\n            customer: userCustomer.name,\\n            description: vm.user.additionalInfo.description,\\n            role: role,\\n            // activationMethod: [\\\"DISPLAY_ACTIVATION_LINK\\\"]\\n        });\\n    });\\n    \\n    function saveUserRole(user, role){\\n        return attributeService.saveEntityAttributes(user.id, \\\"SERVER_SCOPE\\\", [{key: \\\"role\\\", value: role}]);\\n    }\\n\\n    vm.cancel = function() {\\n        vm.dialogRef.close(null);\\n    };\\n\\n    vm.save = function() {\\n        vm.addUserFormGroup.markAsPristine();\\n        saveUserObservable().subscribe(\\n            function (user) {\\n                widgetContext.updateAliases();\\n                vm.dialogRef.close(null);\\n                \\n                // console.log(\\\"user\\\", user);\\n                const formValues = vm.addUserFormGroup.value;\\n                \\n                saveUserRole(user, formValues.role).subscribe();\\n            }\\n        );\\n    };\\n    \\n\\n    function saveUserObservable() {\\n        const formValues = vm.addUserFormGroup.value;\\n        const customerId = vm.customers.find(function(customer){\\n            return customer.entityName === formValues.customer.entityName;\\n        }).id;\\n\\n        vm.user.email = formValues.email;\\n        vm.user.firstName = formValues.firstName;\\n        vm.user.lastName = formValues.lastName;\\n        // vm.user.authority = \\\"CUSTOMER_USER\\\";\\n        vm.user.customerId = customerId;\\n        vm.user.additionalInfo = {\\n            description: formValues.description\\n        }\\n        \\n        return userService.saveUser(vm.user);\\n    }\\n    \\n    vm.showActiviationLink = function(){\\n        \\n        userService.getActivationLink(vm.user.id.id).subscribe(function(link){\\n            console.log(\\\"act link\\\", link);\\n\\n            vm.link = link;\\n            \\n            openActivationLinkDailog(link);\\n        }, function(error){\\n            const message = (JSON.parse(error.error)).message;\\n            console.log(\\\"error\\\", error, message);\\n            if(message === \\\"User is already activated!\\\")\\n                openPasswordRecoveryDialog();\\n        });\\n    };\\n    \\n    function PasswordRecoveryDailogController(instance){\\n        vma = instance;\\n        \\n        vma.formGroup = vma.fb.group({\\n            email: [vm.addUserFormGroup.value.email, [vm.validators.required]]\\n        })\\n        vma.cancel = function() {\\n            vma.dialogRef.close(null);\\n        };\\n        \\n        vma.sendPasswordRecoveryEmail = function(){\\n            widgetContext.http.post(\\\"/api/noauth/resetPasswordByEmail\\\", {email: vma.formGroup.value.email}).subscribe(function(data){\\n                console.log(\\\"Email sent!\\\", vma.formGroup.value.email);\\n                vma.dialogRef.close(null);\\n                widgetContext.showSuccessToast(\\\"Password recovery email has been sent!\\\")\\n                // vma.emailSent = true;\\n                // setTimeout(function() {\\n                //     vma.emailSent = false;\\n                // }, 2000);\\n            });\\n        };\\n    }\\n    \\n    function openPasswordRecoveryDialog(){\\n        const passwordRecoveryHtml = `\\n            <form style=\\\"min-width: 400px\\\" [formGroup]=\\\"formGroup\\\">\\n                <mat-toolbar fxLayout=\\\"row\\\" color=\\\"primary\\\">\\n                    <h2>Password Recovery</h2>\\n                    <span fxFlex></span>\\n                    <button mat-icon-button (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n                        <mat-icon class=\\\"material-icons\\\">close</mat-icon>\\n                    </button>\\n                </mat-toolbar>\\n                <div mat-dialog-content>\\n                    <div style=\\\"margin-bottom: 8px\\\">User is already activated. Reset the password.</div>\\n                    <mat-form-field fxFlex class=\\\"mat-block\\\">\\n                        <mat-label>Email</mat-label>\\n                        <input type=\\\"email\\\" matInput formControlName=\\\"email\\\" required>\\n                        <mat-error *ngIf=\\\"formGroup.get('email').hasError('required')\\\">\\n                            Email is required.\\n                        </mat-error>\\n                    </mat-form-field>\\n                </div>\\n                <div mat-dialog-actions fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between\\\">\\n                    <div>\\n                        <button mat-button color=\\\"primary\\\"\\n                        type=\\\"submit\\\" [disabled]=\\\"emailSent\\\" (click)=\\\"sendPasswordRecoveryEmail()\\\">\\n                            Send Email\\n                        </button>\\n                        <!--<span *ngIf=\\\"emailSent\\\" style=\\\"font-size: 13px; color: #067302\\\">Email sent!</span>-->\\n                    </div>\\n                    <button mat-raised-button color=\\\"primary\\\" (click)=\\\"cancel()\\\">\\n                        OK\\n                    </button>\\n                </div>\\n            </form>\\n        `;\\n        customDialog.customDialog(passwordRecoveryHtml, PasswordRecoveryDailogController).subscribe();\\n    }\\n    \\n    function openActivationLinkDailog(link){\\n        \\n        const activationLinkHtml = `\\n            <form style=\\\"min-width: 400px\\\">\\n                <mat-toolbar fxLayout=\\\"row\\\" color=\\\"primary\\\">\\n                    <h2>User Activation Link</h2>\\n                    <span fxFlex></span>\\n                    <button mat-icon-button (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n                        <mat-icon class=\\\"material-icons\\\">close</mat-icon>\\n                    </button>\\n                </mat-toolbar>\\n                <div mat-dialog-content>\\n                    <div fxLayout=\\\"column\\\">\\n                        <span>\\n                            In order to activate user use the following <a href=\\\"${link}\\\" target=\\\"_blank\\\">activation link</a>:\\n                        </span>\\n                        <div fxlayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                            <pre fxFlex class=\\\"tb-highlight\\\"><code>${link}</code></pre>\\n                            <button mat-icon-button color=\\\"primary\\\" aria-label=\\\"Copy activation link\\\" ngxClipboard [cbContent]=\\\"link\\\" matTooltip=\\\"Copy activation link\\\">\\n                                <mat-icon>assignment_return    </mat-icon>\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div mat-dialog-actions fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between\\\">\\n                    <div>\\n                        <button mat-button color=\\\"primary\\\"\\n                        type=\\\"submit\\\" [disabled]=\\\"emailSent\\\" (click)=\\\"sendActivationEmail()\\\">\\n                            Send Email\\n                        </button>\\n                        <span *ngIf=\\\"emailSent\\\">Email sent!</span>\\n                    </div>\\n                    <button mat-raised-button color=\\\"primary\\\"\\n                    type=\\\"submit\\\" (click)=\\\"cancel()\\\">\\n                        OK\\n                    </button>\\n                </div>\\n            </form>\\n        `;\\n        customDialog.customDialog(activationLinkHtml, ActivationLinkDailogController).subscribe();\\n    }\\n    \\n    function ActivationLinkDailogController(instance){\\n        vma = instance;\\n        \\n        vma.link = vm.link;\\n        \\n        vma.cancel = function(){\\n            vma.dialogRef.close(null);\\n        };\\n        \\n        vma.sendActivationEmail = function(){\\n            userService.sendActivationEmail(vm.addUserFormGroup.value.email)\\n        }\\n    }\\n}\\n\",\"customResources\":[],\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"77987f57-b92e-970b-fb4e-778129237867\"},{\"name\":\"Remove Customer User\",\"icon\":\"delete\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"custom\",\"customFunction\":\"\\n\\nlet $injector = widgetContext.$scope.$injector;\\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\\nlet userService = $injector.get(widgetContext.servicesMap.get('userService'));\\n\\nopenDeleteEntityDialog();\\n\\nfunction openDeleteEntityDialog() {\\n    let title = 'Delete ' + entityId.entityType.toLowerCase() + ' ' +\\n                entityName;\\n    let content = 'Are you sure you want to delete the ' +\\n                 entityId.entityType.toLowerCase() + ' ' + entityName + '?';\\n    dialogs.confirm(title, content, 'Cancel', 'Delete').subscribe(\\n        function(result) {\\n            if (result) {\\n                deleteEntity();\\n            }\\n        }\\n    );\\n}\\n\\nfunction deleteEntity() {\\n    deleteEntityObservable(entityId).subscribe(\\n        function success() {\\n            widgetContext.updateAliases();\\n        },\\n        function fail() {\\n            showErrorDialog();\\n        }\\n    );\\n}\\n\\nfunction deleteEntityObservable(entityId) {\\n    \\n    return userService.deleteUser(entityId.id);\\n}\\n\\nfunction showErrorDialog() {\\n    let title = 'Error';\\n    let content = 'An error occurred while deleting the entity. Please try again.';\\n    dialogs.alert(title, content, 'CLOSE').subscribe(\\n        function(result) {}\\n    );\\n}\\n\",\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"07f6492e-13b5-98ff-cd42-c8d363daa08f\"}]},\"showTitleIcon\":false,\"titleTooltip\":\"\",\"widgetStyle\":{},\"widgetCss\":\"\",\"noDataDisplayMessage\":\"\",\"pageSize\":1024}"
    },
    "externalId" : null,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "ec633860-77dc-11ee-819d-0f0d9d5d78ac"
    }
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}